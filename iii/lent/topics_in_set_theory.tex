\documentclass{article}

% preamble
\def\npart{III}
\def\nyear{2019}
\def\nterm{Lent}
\def\draft{Ongoing course}
\def\nlecturer{Professor B. L\"owe}
\def\ncourse{Topics in Set Theory}

\usepackage{imakeidx}
\usepackage{marginnote}
\usepackage{pbox}

\input{header}
\swapnumbers
\reversemarginpar

\makeindex[intoc]

\renewcommand{\arraystretch}{1.3}

\newcommand{\named}[1]{\textbf{#1}\index{#1}}
\newcommand{\bonusnamed}[1]{\textbf{#1}\index{#1@*#1}}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\ran}{ran}

\setcounter{section}{-1}

\let\oldmodels\models
\let\models\vDash
\let\nModels\nvDash

% and here we go!
\begin{document}
\maketitle

\tableofcontents

\clearpage
\section{Introduction}
The \marginnote{\emph{Lecture 1}}[0cm]main `topic in set theory' covered in this course will be one of the most important: solving the Continuum Problem.
A priori, set theory does not seem intrinsically related to logic, but the continuum hypothesis showed that logic was a very important tool in set theory.
In contrast to many other disciplines of mathematics, in set theory we typically try to prove things are \emph{impossible}, rather than showing what is possible.

The second international congress of mathematicians in 1900 was in Paris, where Hilbert spoke. At that time, Hilbert was a `universal' mathematician, and had worked in every major field of mathematics. He gave a list of problems for the century, the 23 Hilbert Problems. The first on this list was the Continuum Problem.

\subsection{Continuum Hypothesis}\index{Continuum hypothesis}
Here is Hilbert's formulation of the Continuum hypothesis (CH):
Every set of infinitely many real numbers is either equinumerous with the set of natural numbers or the set of real numbers.
More formally, we might write
\begin{equation*}
  \forall X \subseteq \mathbb{R}, (X \text{ is infinite} \Rightarrow X \sim \mathbb{N} \text{ or } X \sim \mathbb{R})
\end{equation*}

In more modern terms, we write this as the claim $2^{\aleph_0} = \aleph_1$.
These two statements are equivalent (in ZFC).

Assume that $2^{\aleph_0} > \aleph_1$, in particular $2^{\aleph_0} \geq \aleph_2$. Since $2^{\aleph_0} \sim \mathbb{R}$, we get an injection $i: \aleph_2 \to \mathbb{R}$.
Consider $X \coloneqq i[\aleph_1] \subseteq \mathbb{R}$. Clearly, $i|_{\aleph_1}$ is a bijection between $\aleph_1$ and $X$, so $X \sim \aleph_1$.
But $\aleph_1 \nsim \mathbb{N}$ and $\aleph_1 \nsim \mathbb{R}$.
Thus $X$ refutes CH (in its earlier formulation).
So: $2^{\aleph_0} \neq \aleph_1 \implies \neg \text{CH}$.

If $2^{\aleph_0} = \aleph_1$.
Let $X \subseteq \mathbb{R}$. Consider $b: 2^{\aleph_0} \to \mathbb{R}$ a bijection. If $X$ is infinite, then $b^{-1}[X] \subseteq 2^{\aleph_0}$.
Thus the cardinality of $X$ is either $\aleph_0$, i.e.\ $X \sim \mathbb{N}$ or $\aleph_1$, i.e.\ $X \sim \mathbb{R}$.
So, $2^{\aleph_0} = \aleph_1 \implies \text{CH}$.

\subsection{History of CH}
\begin{itemize}[label=--]
  \item 1938, G\"odel: ZFC does not prove $\neg$CH.
  \item 1963, Cohen: ZFC does not prove CH.
\end{itemize}
G\"odel's proof used the technique of inner models; Cohen's proof used forcing, sometimes referred to as outer models.

G\"odel's Completeness Theorem:
\begin{equation*}
  \text{Cons}(T) \iff \exists(M, E) (M, E) \models T
\end{equation*}
From this, we might guess that G\"odel's and Cohen's proof will show there is a model of ZFC + CH, and a model of ZFC + $\neg$CH, but by the incompleteness phenomenon, we cannot prove there is a model of ZFC!
So, we are not going to be able to prove Cons(ZFC+CH), but instead
\begin{equation*}
  \text{Cons(ZFC)} \rightarrow \text{Cons(ZFC+CH)}
\end{equation*}
Or, equivalently,
\begin{equation*}
  \text{if } M \models \text{ZFC, then there is } N \models \text{ZFC + CH}.
\end{equation*}

\clearpage
\section{Model theory of set theory}
Let's assume for a moment that
\begin{equation*}
  (M,\in) \models \text{ZFC}.
\end{equation*}
We refer to the canonical objects in $M$ by the usual symbols, e.g., $0,1,2,3,4,\dotsc, \omega, \omega+1, \dotsc$

What would an ``inner model'' be?
Take $A \subseteq M$, and consider $(A, \in)$. This is a substructure of $(M, \in)$.

Note: the language of set theory has no function or constant symbols. But we write down
\begin{equation*}
  X = \emptyset,\ X = \{Y\},\ X = \{Y,Z\},\ X = \bigcup Z,\ X = \mathcal{P}(Z)
\end{equation*}
which appear to use function or constant symbols. These are technically not part of the language of set theory; they are abbreviations:
\begin{align*}
  X &= \emptyset & &\text{ abbreviates } & &\forall w\; (\neg w \in X) \\
  X &= \{Y\} & & \text{ abbreviates } & &\forall w\; (w \in X \leftrightarrow w = Y) \\
  X &\subseteq Y & & \text{ abbreviates } & &\forall w\; (w \in X \rightarrow w \in Y)
\end{align*}
and so on.

\begin{defi}\hypertarget{def:abso}
  If $\varphi$ is a formula in $n$ free variables. We say
  \begin{enumerate}[label=(\arabic*)]
    \item $\varphi$ is \named{upwards absolute}\index{absolute!upwards-} between $A$ and $M$ if
      \begin{equation*}
        \text{for all } a_1, \dotsc, a_n \in A,\quad (A,\in) \models \varphi(a_1, \dotsc, a_n) \implies (M, \in) \models \varphi(a_1, \dotsc, a_n)
      \end{equation*}
    \item $\varphi$ is \named{downwards absolute}\index{absolute!downwards-} between $A$ and $M$ if
      \begin{equation*}
        \text{for all } a_1, \dotsc, a_n \in A,\quad (M,\in) \models \varphi(a_1, \dotsc, a_n) \implies (A, \in) \models \varphi(a_1, \dotsc, a_n)
      \end{equation*}
    \item $\varphi$ is \named{absolute} between $A$ and $M$ if it is upwards absolute and downwards absolute.
  \end{enumerate}
\end{defi}

\begin{defi}
  We\index{quantifier-free} say that a formula is \hypertarget{def:sig1}$\Sigma_1$ if it is of the form
  \begin{equation*}
    \exists x_1 \dotsc \exists x_n\ \varphi(x_1, \dotsc, x_n) \text{ where } \varphi \text{ is quantifier-free}
  \end{equation*}
  or \hypertarget{def:pi1}{$\Pi_1$} if it is of the form
  \begin{equation*}
    \forall x_1 \dotsc \forall x_n\ \varphi(x_1, \dotsc, x_n) \text{ where } \varphi \text{ is quantifier-free}.
  \end{equation*}
\end{defi}

\begin{remark}
  \leavevmode
  \begin{enumerate}[label=(\alph*)]
    \item If $\varphi$ is quantifier-free, then $\varphi$ is \hyperlink{def:abso}{absolute} between $A$ and $M$.
    \item If $\varphi$ is \hyperlink{def:pi1}{$\Pi_1$}, then it's \hyperlink{def:abso}{downward absolute}
    \item If $\varphi$ is \hyperlink{def:sig1}{$\Sigma_1$}, then it's \hyperlink{def:abso}{upward absolute}
  \end{enumerate}
\end{remark}

\marginnote{\emph{Lecture 2}}[0cm]
Under our assumption that $(M,\in) \models \text{ZFC}$, which subsets $A \subseteq M$ give a model of ZFC?
Using standard model theory, we observed that if $\varphi$ is quantifier-free, then $\varphi$ is \hyperlink{def:abso}{absolute} between $(A,\in)$ and $(M,\in)$, but hardly anything is quantifier-free:
\begin{equation*}
  \hypertarget{def:phi0}x = \emptyset \iff \forall w (w \notin x) \eqqcolon \Phi_0(x)
\end{equation*}

For instance, define $A \coloneqq M \setminus \{1\}$ (recall $0,1,2,\dotsc$ refer to the ordinals in $M$).
In $A$, we have $0,2,\{1\}$. Clearly $(M,\in) \models \Phi_0(0)$.
$\Phi_0(x)$ is a \hyperlink{def:pi1}{$\Pi_1$} formula, so by $\Pi_1$-\hyperlink{def:abso}{downwards absoluteness}, $(A,\in) \models \Phi_0(0)$.

In reality, $2 = \{0,1\}$, but $1$ is not in $A$, so informally in $A$, the object $2$ has only one element.
Similarly, in $A$, $\{1\}$ has no elements, since $1$ is missing from $A$. Thus
\begin{equation*}
  (A,\in) \models \Phi_0(\{1\}).
\end{equation*}
Clearly $(M,\in) \nModels \Phi_0(\{1\})$, so $\Phi_0$ is not \hyperlink{def:abso}{absolute} between $A$ and $M$.
As a corollary, we get $(A,\in) \nModels$ Extensionality, since $0$ and $\{1\}$ have the same elements in $A$, but are not equal.

(Remark: We could go on, defining formulas $\Phi_1(x), \Phi_2(x)$ etc.\ to analyse which of the elements correspond to the natural numbers in $A$.)

\begin{defi}\hypertarget{def:transitive}
  We call $A$ \named{transitive} in $M$, if for all $a \in A$ and $x \in M$ such that $(M,\in) \models x \in a$, we have $x \in A$.
\end{defi}
\begin{prop}
  If $A$ is \hyperlink{def:transitive}{transitive}, then \hyperlink{def:phi0}{$\Phi_0$} is \hyperlink{def:abso}{absolute} between $A$ and $M$.
\end{prop}
\begin{proof}
  Since \hyperlink{def:phi0}{$\Phi_0$} is \hyperlink{def:pi1}{$\Pi_1$}, we only need to show \hyperlink{def:abso}{upwards absoluteness}.
  Suppose $a \in A$, such that $(A,\in) \models \Phi_0(a)$.
  Suppose $a \neq 0$. Thus there is some $x \in a$. By \hyperlink{def:transitive}{transitivity}, $x \in A$.
  So $(A,\in) \models x \in a$ and so $(A,\in) \nModels \Phi_0(a)$, contradiction.
\end{proof}
(Similarly, if $\Phi_n$ is the formula describing the natural number $n$, and there is $a \in A$ such that $(A,\in) \models \Phi_n(a)$ and $A$ is \hyperlink{def:transitive}{transitive}, then $a = n$.)
\begin{prop}
  If $A$ is \hyperlink{def:transitive}{transitive} in $M$, then
  \begin{equation*}
    (A,\in) \models \text{Extensionality}.
  \end{equation*}
\end{prop}
\begin{proof}
  Take $a,b \in A$ with $a \neq b$.
  By Extensionality in $(M,\in)$, find without loss of generality some $c \in a \setminus b$.
  Since $c \in a \in A$, by \hyperlink{def:transitive}{transitivity}, $c \in A$.
  Thus
  \begin{align*}
    (A,\in) &\models c \in a \\
    (A,\in) &\models c \notin b,
  \end{align*}
  so $a$ and $b$ do not satisfy the assumptions of Extensionality.
\end{proof}

Consider now $A \coloneqq \omega + 2 \subseteq M$, the ordinal consisting of $\{0,1,2,\dotsc, \omega, \omega+1\}$.
This is a transitive subset of $M$ (since it's an ordinal).
So
\begin{equation*}
  (A,\in) \models \text{Extensionality}.
\end{equation*}
Consider the formula $x = \mathcal{P}(y)$, which we can informally define as $x = \{z \mid z \subseteq y\}$, but this is not good enough. More properly, we try
\begin{equation*}
  \mathcal{P}(x) = \forall w \; (w \in x \leftrightarrow w \subseteq y).
\end{equation*}
This still includes the symbol $\subseteq$, so still needs improving.
\begin{equation*}
  \mathcal{P}(x) = \forall w \; (w \in x \leftrightarrow (\forall v \; (v \in w \rightarrow v \in y)))
\end{equation*}
In $A$, what is $\mathcal{P}(0)$?
\begin{equation*}
  (A,\in) \models \omega + 1 = \mathcal{P}(\omega)
\end{equation*}

\subsection{Bounded quantification}
We define\index{bounded quantifier}
\begin{align*}
  \exists (v \in w) \; \varphi &:\Longleftrightarrow \exists v \; (v \in w \land \varphi) \\
  \forall (v \in w) \; \varphi &\vcentcolon\Longleftrightarrow \forall v \; (v \in w \rightarrow \varphi).
\end{align*}
\begin{defi}\hypertarget{def:delta0}
  A formula $\varphi$ is called $\Delta_0$ if it is in the smallest set of formulas with the following properties
  \begin{enumerate}
    \item All quantifier-free formulas are in $S$.
    \item If $\varphi, \psi \in S$ then so are
      \begin{enumerate}
        \item $\varphi \land \psi$, $\varphi \lor \psi$, $\varphi \rightarrow \psi$, $\varphi \leftrightarrow \psi$
        \item $\neg \varphi$
        \item $\exists (v \in w) \; \varphi$, $\forall (v \in w)\; \varphi$.
      \end{enumerate}
  \end{enumerate}
\end{defi}
\begin{thm}
  If $\varphi$ is \hyperlink{def:delta0}{$\Delta_0$} and $A$ is \hyperlink{def:transitive}{transitive}, then $\varphi$ is \hyperlink{def:abso}{absolute} between $A$ and $M$.
\end{thm}
\begin{proof}
  We already knew that quantifier free formulas are \hyperlink{def:abso}{absolute}.
  Absoluteness is obviously preserved under propositional connectives.
  So, let's deal with (2c):
  Let's just do
  \begin{equation*}
    \varphi \mapsto \exists (v \in w) \; \varphi = \exists v \; (v \in w \land \varphi).
  \end{equation*}
  So suppose $\varphi$ is absolute. We need to deal with \hyperlink{def:abso}{downwards absoluteness}.
  \begin{align*}
    (M,\in) &\models \exists (v \in a) \; \varphi(v,a) \quad \text{for some } a \in A \\
    (M,\in) &\models \exists v \; (v \in a \land \varphi(v,a)).
    \intertext{Let's find $m \in M$ such that }
    (M,\in) &\models m \in a \land \varphi(m,a).
  \end{align*}
  \hyperlink{def:transitive}{Transitivity} gives $m \in A$.
  By absoluteness of $\varphi$, we get
  \begin{equation*}
    (A,\in) \models m \in a \land \varphi(m,a) \implies (A,\in) \models \exists (v \in a) \; \varphi(v,a). \qedhere
  \end{equation*}
\end{proof}

\begin{defi}
  \hypertarget{def:delta0t}{\hypertarget{def:sig0t}{\hypertarget{def:pi0t}L}}et $T$ be any `set theory'.
  Then we say that $\varphi$ is $\Delta_0^T$ if there is a \hyperlink{def:delta0}{$\Delta_0$} formula $\psi$ such that $T \vdash \phi \leftrightarrow \psi$.
  \begin{itemize}
    \item $\varphi$ is called $\Sigma_1^T$ if it is $T$-equivalent to $\exists v_1 \dots \exists v_n \; \psi$ where $\psi$ is $\Delta_0$.
    \item $\varphi$ is called $\Pi_1^T$ if it is $T$-equivalent to $\forall v_1 \dots \forall v_n \; \psi$ where $\psi$ is $\Delta_0$.
  \end{itemize}
\end{defi}
\begin{cor}
  If $A$ is \hyperlink{def:transitive}{transitive} in $M$ and both $(M,\in)$ and $(A,\in)$ are models of $T$, then \hyperlink{def:delta0t}{$\Delta_0^T$} formulas are \hyperlink{def:abso}{absolute} between $A$ and $M$, and $\Sigma_1^T, (\Pi_1^T)$ formulas are upwards (downwards) absolute between $A$ and $M$.
\end{cor}
\begin{defi}\hypertarget{def:delta1t}
  A \marginnote{\emph{Lecture 3}}formula is called $\Delta_1^T$ if it both $\Sigma_1^T$ and $\Pi_1^T$.
\end{defi}
\begin{cor}
  If $A$ is \hyperlink{def:trans}{transitive}, $A,M \models T$ and $\varphi$ is $\Delta_1^T$, then $\varphi$ is \hyperlink{def:abso}{absolute} between $A$ and $M$.
\end{cor}
\subsection{`Set theory'}
What do we mean by a `set theory'?

\begin{center}
\begin{tabular}{rl|rl}\hline
  \color{mred}{FST$_0$} & \begin{tabular}{@{}l@{}} Extensionality \\ Pairing \\ Union \\ \vspace{1mm} PowerSet \\ \vspace{1mm}\pbox{5cm}{Separation\\ (Aussonderung)} \end{tabular} & \color{mred}{FST} & FST$_0$ + \pbox{5cm}{Foundation\\ (Regularity)} \\ \hline
  \color{mred}{Z$_0$} & FST$_0$ + Infinity & \color{mred}{Z} & Z$_0$ + Foundation \\ \hline
  \color{mred}{ZF$_0$} & Z$_0$ + \pbox{5cm}{\vspace{1mm}Replacement\\ \vspace{1mm}(Ersetzung)} & \color{mred}{ZF} & ZF$_0$ + Foundation \\ \hline
  \color{mred}{ZFC$_0$} & ZF$_0$ + Choice & \color{mred}{ZFC} & ZFC$_0$ + Foundation \\ \hline
\end{tabular}
\end{center}

These axioms are all true for finite sets, so these axioms together are sometimes denoted $\text{FST}_0$.
The subscript 0 denotes the absence of Foundation (Regularity), and with this axiom included we have FST.

\subsection{A long list of \texorpdfstring{$\Delta_0^T$}{Delta0T} formulas}
We noted earlier that there are very few $\Delta_0$ formulas, so can we find any $\Delta_0^T$ formulas?
\begin{enumerate}
  \item $x \in y$ (in fact, $\Delta_0$)
  \item $x = y$ (in fact, $\Delta_0$)
  \item $x \subseteq y$. This is an abbreviation, so we have to define what it means:
    \begin{equation*}\forall w (w \in x \rightarrow w \in y).\end{equation*}
    But note this is $\forall (w \in x) \; (w \in y)$, so $\Delta_0$.
  \item
    \begin{align*}
      \Phi_0(t) &:\Longleftrightarrow\ \forall w (w \notin x) \\
                &\iff \forall w (\neg w \in x) \\
                &\iff \forall w \; (w \in x \rightarrow \neg x = x)
    \end{align*}
    so it's $\Delta_0$ in predicate logic.
\end{enumerate}
We say that an operation $x_1, \dotsc, x_k \mapsto F(x_1, \dotsc, x_n)$ is defined by a formula in class $\Gamma$ (where $\Gamma$ is any class of formulas) in the theory $T$ if there is a formula $\Psi \in \Gamma$ such that
\begin{enumerate}[label=(\arabic*)]
  \item $T \vdash \forall x_1 \dotsm \forall x_n \ \exists y \ \Phi (x_1, \dotsc, x_n, y)$
  \item $T \vdash \forall x_1 \dotsm \forall x_n \ \forall y,z \ \Phi(x_1, \dotsc, x_n, y) \land \Phi(x_1, \dotsc, x_n, z) \rightarrow y = z$
  \item $\Phi(x_1, \dotsc, x_n, y)$ if and only if $y = F(x_1, \dotsc, x_n)$.
\end{enumerate}
\begin{eg}
  \begin{align*}
    x &\mapsto \{x\} \\
    x,y &\mapsto \{x,y\}
  \end{align*}
  These are operations in FST$_0$!
\end{eg}
\begin{enumerate}
  \setcounter{enumi}{4}
  \item $x \mapsto \{x\}$. The formula to express this is
    \begin{align*}
      `z = \{x\}' &\iff \Phi(x,z) \\
                  &\iff \forall w \; (w \in z \leftrightarrow w = x) \\
                  &\iff \forall w \; ((w \in z \rightarrow w = x) \land (w = x \rightarrow w \in z)) \\
                  &\iff \exists (w \in z) \; (w = w) \land \forall w \in z \ (w \in z \rightarrow w = x)
    \end{align*}
    So this is $\Delta_0$ in some weak set theory.
  \item $x,y \mapsto \{x,y\}$
  \item $x,y \mapsto x \cup y$
  \item $x,y \mapsto x \cap y$
  \item $x,y \mapsto x \setminus y$
  \item $x,y \mapsto (x,y)$, where $(x,y) = \{\{x\},\{x,y\}\}$ which is the combination of earlier formulas
\end{enumerate}
If two operations $f, g_1, g_2$ are defined by $\Delta_0^T$-formulas, then so is the operation
\begin{equation*}
  x_1, \dotsc, x_n \mapsto f(g_1(x_1, \dotsc, x_n), \dotsc, g_k(x_1, \dotsc, x_n))
\end{equation*}
\begin{enumerate}
  \setcounter{enumi}{10}
  \item $x \mapsto x \cup \{x\} \eqqcolon S(x)$.
    By the previous fact from 5.\ and 7.
  \item $x \mapsto \bigcup x$
  \item the formula describing `$x$ is transitive'
  \item the formula describing `$x$ is an ordered pair' (the quantifiers for the two components of $x$ are bounded by $\bigcup x$)
  \item $x,y \mapsto x \times y$
  \item the formula `$x$ is a binary relation' (again, the quantifiers can be made bounded)
  \item $x \mapsto \dom(x) \coloneqq \{y | \exists p \in x; (p\text{ is an ordered pair},\ p = (v,w),\ y=v)\}$
  \item $x \mapsto \ran(x) \coloneqq \{y | \exists p \in x; (p\text{ is an ordered pair},\ p = (v,y))\}$
  \item the formula `$x$ is a function'
  \item the formula `$x$ is injective'
  \item the formula `$x$ is function from $A$ to $B$'
  \item the formula `$x$ is a surjection from $A$ to $B$'
  \item the formula `$x$ is a bijection from $A$ to $B$'
\end{enumerate}
What is an ordinal?
\begin{defi}
$\alpha$ is an \named{ordinal} if $\alpha$ is a transitive set well-ordered by $\epsilon$, i.e.\ it is totally ordered (several axioms, all $\Delta_0^T$) and well-founded ($\forall X\; (X \subseteq \alpha \rightarrow X \text{ has a } \epsilon\text{-least element})$).
\end{defi}

Observe `$(X,R)$ is a well-founded relation' is not obviously absolute since the bound for the $\forall Z\; (Z \subseteq X \dots)$ quantifier is the power set, so this is $\Pi_1$.
However, in models with the axiom of foundation, well-foundedness is automatic, so $\alpha$ is an ordinal iff $\alpha$ is transitive and totally ordered by $\epsilon$, which is $\Delta_0^T$.
\printindex
\end{document}
