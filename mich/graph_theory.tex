\documentclass{article}

\def\npart {II}
\def\nyear {2017}
\def\nterm {Michaelmas}
\def\nlecturer{Prof. P. Russell}
\def\ncourse{Graph Theory}
\input{header}

% preamble
\setcounter{section}{-1}
\tikzset{circ/.style = {fill, circle, inner sep = 0, minimum size = 3}}
% and here we go!

\begin{document}
\maketitle

\section{Introduction}

\subsection{Preliminary}
This course has no prerequistes, being the first course in the tripos in this field.  However, introductory facts about, say, eigenvalues and limits will be used.
As usual, books are not required, but the most relevant is Modern Graph Theory, B. Bollobas


This course consists of six chapters: corresponding to paragraphs 2 to 7 in the schedules but in a different order
Paragraph 1: Introductory - split between chapters

\subsection{Informal definitions}
A \emph{graph} consists of `vertices' with some pairs of vertices joined by `edges'.
\begin{center}
    \begin{tikzpicture}
        \node [circ] (1) at (0,2) {};
        \node [circ] (2) at (2,2) {};
        \node [circ] (3) at (0,0) {};
        \node [circ] (4) at (2,0) {};
        \node [circ] (5) at (3,1) {};

        \node [circle]
        \draw (1) -- (4) -- (5) -- (2) -- (3);
        \draw (2) -- (4);
    \end{tikzpicture}
\end{center}

(drawing goes here)
% do the tikz bs later

In this course, we make the following assumptions:
the number of vertices is finite
no `multiple edges' - every pair of vertices is connected by at most one edge
no `loops' - no vertex can be joined to itself - edges have to go between different vertices

\subsection{Where do such structures arise?}
konigsberg (insert thing here)

Problem: can we walk across each bridge precisely once, returning to our starting point?

(Multigraph) The vertices of this graph are the four bits of the city, while the edges are the seven bridges
(insert other thing here)
In terms of this graph, the problem becomes to walk around the edges of this graph precisely once, and return to the starting vertex

example two
Map colouring problem (1850s)
How many colours are required to colour a map such that neighbouring countries get different colours?
(picture)
Here, the vertices are countries, and the edges are neighbouring pairs.
If we can draw a graph with no crossing edges, how many colours are needed to colour vertices with all edges having two different colours?

example three
Cosets of finite subgroups of finite groups

Let $G$ be a finite group, $H \leq G$, $|G : H| = n$.  By Lagrange, $\exists a_1, \dots, a_n \in G$ such that the left cosets of $H$ are $a_1 H, \dots a_n H$.  Similarly, $\exists b_1, \dots, b_n \in G$ such that the right cosets of $H$ are $H a_1, \dots, H a_n$.
Can we do this simultaneously? In particular, are there $a_1, \dots, a_n \in G$ such that $a_1 H, \dots, a_n H \in G$ are the left cosets, and $a_1, \dots, a_n \in G$ are the right cosets?

% In the case where $H < G$, (normal subgroup) this is easy. We have $a H = H a \forall a \in G$.  However it is less obvious if $H \notri G$.  Let $L$ be the set of left cosets, and let $R$ be the set of right cosets. We can create a graph where the vertices are $L \cup R$.  Join $X \in L$ to $Y \in R$ by an edge if we can find some $a$ such that $X = aH$ and $Y = Ha$, that is, if $X$ and $Y$ have a commmon element.  Ideally, we would like a graph like this
(insert bipartite graph here)

Formally, we ask: In this graph, can we find a set of edges meeting each vertex precisely once?

example four
Fermat equation mod p
Consider the equation $x^n + y^n = z^n$. Does this have solutions mod $p$ for $p$ a prime?  Rule out trivial solutions such as $x = 0, y = z$, in particular we such for solutions in $\mathbb{Z}_p$ where $xyz \ne 0$.
Let $G = \mathbb{Z} \\ {0}$ under multiplication, and $H = \{g^n : g \in G\}$.  We can check that $H \leq G$, and that $|G : H| \leq n$, by considering the number of $n$th roots an element can have.  So, $G$ can be partitioned into $g_1 H, g_2 H, \dots, g_mH$ for some $g_1, g_2, \dots, g_m$ and $m \leq n$.  Suppose in some $g_i H$, we have $a, b, c$ with $a + b = c$.  Then $a = g_i x^n, b = g_i y^n, c = g_i z^n$ for some $x, y, z \in G$.  Then
\begin{align}
  g_i x^n + g_i y^n = g_i z^n
  x^n + y^n = z^n
\end{align}

It finally remains to show Schur's Theorem:
(thm) Let $n$ be a positive integer. Then if $p$ is a sufficiently large positive integer, whenever $\{1, 2, \dots, p\}$ is parititioned into $n$ parts, we can solve $a + b = c$ with $a, b, c$ all in some part.

\section{Ramsey Theory}

\begin{defi}[Graph]\label{def:graph}\label{def:vertex}\label{def:edge}
    A \textbf{graph} is an ordered pair $(V, E) = G$ where $V$ is a finite set and $E$ is a set of unordered pairs of distinct elements of $V$.  We call elements of $V$ \textbf{vertices} of $G$ and elements of $E$ \textbf{edges}.  We often write $v \in G$ to mean $v \in V$ and sometimes, where clear, $e \in G$ to mean $e \in E$.  Often denote $\{u, v\} \in E$ by $uv$. Note $uv = vu$.
\end{defi}

\begin{eg}
    Here's an example of a \hyperref{def:graph}[graph] $G = (\{1, 2, 3, 4, 5, 6, 7\}, \{12, 23, 13, 14, 67\})$, but it's often easier to represent a graph by a drawing: take a point for each vertex, join two vertices if they are in an edge.
    (Insert drawing here).
\end{eg}

\begin{defi}[Graph isomorphism]\label{def:g_iso}
    Let $G = (V, E)$ and $G' = (V', E')$ be \hyperref{def:graph}[graphs]. An \textbf{isomorphism} from $G$ to $G'$ is a bijection $\phi: V \to V'$ such that for all $u, v \in V$, we have $\phi(u) \phi(v) \in E'$ if and only if $u v \in E$.  If such an isomorphism exists, we say $G$ is isomorphic to $G'$.
\end{defi}

\begin{defi}[Subgraph]\label{def:subgraph}
    Suppose also $H = (W, F)$ is a graph. We say $H$ is a \textbf{subgraph} of $G$ and write $H \subset G$ if $W \subset V$ and $F \subset E$.  Often, we say `$H$ is a subgraph of $G$' to mean `$H$ is isomorphic to a subgraph of $G$'.
\end{defi}

\begin{defi}[Complete graph of order $n$]\label{def:K_n}
    The \textbf{complete graph of order n}, $K_n$ has $n$ vertices with every pair forming an edge.
\end{defi}

% add pictures of K1, K3, K5

Looking at (fig), we see $K_3$ looks like a triangle, and we will often just refer to $K_3$ as a \textbf{triangle}\label{def:triangle}.  In addition, note that if $m \leq n$, then $K_m \subset K_n$.

Recall \hyperref{thm:schur}[Schur's Theorem]:
\begin{thm}[Schur's Theorem reformulated]
    Let $k$ be a positive integer. Then there is a positive integer $n$ such that if the set $[n] = \{1, 2, \dots, n\}$ is coloured with $k$ colours, we can find $a, b, c$ with $a + b = c$ and $a,b,c$ the same colour.
\end{thm}

Can we prove this directly? First try $k=1$, where $n=2$ immediately works because $1+1=2$.

For $k=2$, (add stuff here). (blue 1, yellow 2, yellow 3, blue 4, any 5)
This case analysis worked for $k=2$, but is likely to get a lot more fiddly for larger $k$. Even for $k=3$ this case analysis turns out to be a lot harder, so can we come up with a `better' proof for the $k=2$ case, that is `more likely to generalise'?

\begin{proof}[$k=2$ of Schur's Theorem, improved]
    Suppose $[5]$ are coloured blue/yellow.  Then some three are the same colour, and without loss of generality $i < j < k$ are blue. If $j-i$ is blue we are done, since $i + (j-i) = j$.
    Similarly if $k-i$ or $k-j$ is blue, we are done.  If not, all of $j-i$, $k-i$, $k-j$ are all yellow, but then $k-i = (j-i) + (k-j)$, and we are done.
\end{proof}

Let's try a similar approach for $k=3$, and I claim $n=16$ works.

\begin{proof}(Schur's theorem, $k=3$)

    Suppose $[16]$ are coloured blue, yellow and green.  By the pigeonhole principle, some six numbers are the same colour, without loss of generality $x_1 < x_2 < \dots < x_6$ are blue.
    If $x_j - x_i$ is blue for any $i<j$ then we are done: $x_i + (x_j - x_i) = x_j$.  So assume all $x_j - x_i$ are green or yellow.
    Consider the five numbers $x_2 - x_1$, $x_3 - x_1$, $x_4 - x_1$, $x_5 - x_1$, $x_6 - x_1$.  By the $k=2$ case, some three of these are the same colour: say $x_i - x_1$, $x_j - x_1$, $x_k - x_1$ are yellow, for $i < j < k$.
    % (begin star)
    If $x_j - x_i$ is yellow, we are done: $(x_i - x_1) + (x_j - x_i) = x_j - x_1$, similarly if $x_k - x_i$ or $x_k - x_j$ is yellow.
    Otherwise, all of $x_j - x_i$, $x_k - x_i$, $x_k - x_j$ are all green, and we have $(x_j - x_i) + (x_k - x_j) = x_k - x_i$, so we are done.
    % (end star)
\end{proof}

This (star) looks very similar to the proof of the $k=2$ case, so can we use induction? It's unclear, because it wasn't exactly the previous case.  But notice how we always seem to be interested in differences of two numbers, yet we never seem to use facts like $7-3 = 9-5$.
So, consider a graph where the vertices are numbers, and the edges refer to the difference between two vertices, and we colour edges.
Suppose the edges of a complete graph $K_6$ are coloured blue and yellow. Then we can find a monochromatic \hyperref[def:triangle]{triangle}.
\begin{proof}
    Pick $v \in K_6$. $v$ is in five edges, so some three are the same colour, without loss of generality call them $vx, vy, vz$. If any of $xy, xz, yz$ is blue, we have a blue $triangle$ with $v$. If not, $xyz$ is a yellow triangle.
\end{proof}

\begin{remark}
    Schur for $k=2$ now follows: Suppose $[5]$ are coloured blue/yellow. Take a $K_6$ with vertices $\{0, 1, \dots, 5\}$. Colour edge $ij$, $(i<j)$ with the colour of $j-i$. By (ref), we have a monochromatic triangle $abc$ ($a<b<c$). Then $(c-b) + (b-a) = c-a$, and $c-b, b-a, c-a$ are all the same colour.
    We cannot find a monochromatic triangle in $K_5$ instead (picture)
    In this graph form, the statement for more colours is now amenable to an induction proof.
\end{remark}

% prop 1
\begin{nprop}
    Let $k$ be a positive integer. THen there is a postiive integer $n$ such that whenever the edges of $K_n$ are coloured with $k$ colours we can find a monochromatic triangle.
\end{nprop}

\begin{proof}
    Induction on $k$. For $k=1$, $n=3$ works.
    $k>1$. By the induction hypothesis, we can find $m$ such that if $K_m$ is $(k-1)$--coloured, then there is a monochromatic triangle.  Let $n = k(m-1) + 2$.

    Now $k$--colour the edges of $K_n$.  Pick vertex $v$.  The number of edges containing $v$ is $n-1 = k(m-1)+1$.  So some $m$ of them are the same colour, without loss of generality blue.  Let $H$ be a $K_m$ joined to $v$ by blue edges. If $H$ contains a blue edge, it makes a blue triangle with $v$. If not, $H$ is a $(k-1)$--coloured $K_m$ so by definition of $m$, it contains a monochromatic triangle.
\end{proof}

\begin{remark}
    \leavevmode
    \begin{enumerate}
        \item Can think in terms of the following picture. Eventually, we will run out of colours and get a monochromatic triangle.
        \item How big do we need to take $n$ to be?  Let $f(k)$ be the smallest $n$ that works with $k$ colours. Clearly $f(1) = 3$. Our proof says for $k>1$, $f(k) \leq k \left(f(k-1)-1\right) + 2 \leq k f(k-1)$.  So by induction, $f(k) < 3 k!$.
        \item Schur's theorem (add link) follows immediately in the same way as for the $k=2$ case.
    \end{enumerate}
\end{remark}

Can we find larger monochromatic subgraphs, for instance a monochromatic $K_4$?  Think about two colours at first for simplicity.  Yes, but need an intermediate step first.

\begin{eg}
    \leavevmode
    \begin{enumerate}
        \item Let $K_{10}$ have edges coloured blue/yellow.
            Then there is a blue triangle or a yellow $K_4$.
            \begin{proof}
                Take a vertex $v$. It's in $9$ edges so either $v$ is in $4$ blue edges, or in $6$ yellow edges.
                $v$ is in $4$ blue edges
                If any edge between $w, x, y, z$ is blue, we have a blue triangle.
                If not, there are all yellow and we have a yellow $K_4$.

                $v$ is in $6$ yellow edges We know $H$ contains a monochromatic triangle. If it is blue, we are done.  If it is yellow, then it makes a $K_4$ with $v$ as required.
            \end{proof}
        \item Let $K_{20}$ be coloured blue/yellow. Then $\exists$ a monochromatic $K_4$.
            \begin{proof}
                Pick a vertex $v$. It's in $19$ edges, so some $10$ of them are the same colour, without loss of generality blue.
                Let $H$ be a $K_{10}$ joined to $v$ by blue edges.
                Either $H$ has a blue triangle, making a blue $K_4$ with $v$
                Or $H$ contains a yellow $K_4$
            \end{proof}
    \end{enumerate}
\end{eg}

\begin{defi}[\hypertarget{def:ramseyNum}{Ramsey number}]
    Let $s, t \geq 2$. The Ramsey number $R(s, t)$ is the least $n$ such that whenever $K_n$ has edges coloured blue/yellow there must be a blue $K_s$ or a yellow $K_t$ (if such an $n$ exists).
    We also write $R(s) = R(s, s)$.
\end{defi}

We have seen $R(3) = 6$; $R(3, 4) \leq 10$; $R(4) \leq 20$.

\begin{nthm}[\hypertarget{thm:ramsey}{Ramsey's Theorem}]
    $R(s, t)$ exists for all $s, t \geq 2$.  Moreover, if $s, t \geq 2$ then $R(s, t) \leq R(s-1, t) + R(s, t-1)$.
\end{nthm}

\begin{proof}
    Induction on $s+t$.

    For $s=2$, we have $R(2, t) = t$, because reasons.  Similarly $R(s, 2) = s$.
    In the case $s, t > 2$, let $a = R(s-1, t)$ and $b = R(s, t-1)$ which exist by the induction hypothesis.  Let $n = a+b$. Suppose $K_n$ has edges coloured blue/yellow.
    Pick $v \in K_n$, which is in $a+b-1$ edges, so either $v$ is in $a$ blue edges, or it is in $b$ yellow edges.
    \begin{enumerate}
        \item If it is in $a$ blue edges, let $H$ be the $K_a$ joined to $v$ be blue edges.  Now $a = R(s-1, t)$, so either $H$ has a blue $K_{s-1}$, making a blue $K_s$ with $v$, or $H$ has a yellow $K_t$, so done.
        \item $v$ is in $b$ yellow edges, and we can make the same argument with colours reversed.
    \end{enumerate}
\end{proof}

% cor 3
\begin{cor}
    For all $s, t \geq 2$, $R(s, t) \leq 2^{s+t}$, so $R(s) \leq 4^s$.
\end{cor}

\begin{proof}
    Induction on $s + t$.  Base cases $s=2$, $R(2, t) = t \leq 2^{2+t}$ and similar for $t=2$.
    For $s, t \geq 2$
    \begin{align}
        R(s, t) &\leq R(s-1, t) + R(s, t-1) \\
                &\leq 2^{s-1+t} + 2^{s+1-t} \\
                &= 2^{s+t}
    \end{align}
\end{proof}

A more careful version of the same proof gives $R(s) = \mathcal{O} (\frac{4^s}{\sqrt{s}})$ (Erdos-Szekeres 1935)
A harder proof gives an improvement to $R(s) = \mathcal{O}(\frac{4^s}{s})$ (Thomason 1988)
An even harder proof gives $R(s) = \mathcal{O}(\frac{4^s}{s^k})$ for any $k$ (Conlon 2009)
Is $R(s) = \mathcal{O}((3.999999999)^s)$? Unknown.
\end{document}
