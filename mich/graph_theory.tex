\documentclass{article}

\def\npart {II}
\def\nyear {2017}
\def\nterm {Michaelmas}
\def\nlecturer{Prof. P. Russell}
\def\ncourse{Graph Theory}
\input{header}

% preamble
\usepackage{subcaption}
\setcounter{section}{-1}
\usetikzlibrary{graphs,graphs.standard,positioning,decorations.pathmorphing, calc}
\tikzset{node/.style = {circle, draw=black}}
\renewcommand{\thenthm}{\arabic{nthm}}
\DeclareMathOperator{\ext}{ex}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}
% and here we go!

% TODO stop theorem numbering from restarting

\begin{document}
\maketitle

\tableofcontents

\section{Introduction}

\subsection{Preliminary}
This course has no prerequistes, being the first course in the tripos in this field.  However, introductory facts about, say, eigenvalues and limits will be used.
As usual, books are not required, but the most relevant is Modern Graph Theory, B. Bollobas.

This course consists of six chapters: corresponding to paragraphs 2 to 7 in the schedules but in a different order. Paragraph 1 is introductory, and hence is split between chapters.

\subsection{Informal definitions}
A \emph{graph} consists of `vertices' with some pairs of vertices joined by `edges'.
\begin{center}
    \begin{tikzpicture}
        \node [node] (1) at (0,2) {};
        \node [node] (2) at (2,2) {};
        \node [node] (3) at (0,0) {};
        \node [node] (4) at (2,0) {};
        \node [node] (5) at (3,1) {};

        \node [node] (6) at (5,2) {};
        \node [node] (7) at (4,0) {};
        \node [node] (8) at (6,0) {};

        \node [node] (9) at (7,1.5) {};

        \draw (1) -- (4) -- (5) -- (2) -- (3);
        \draw (2) -- (4);

        \draw (6) -- (7) -- (8);
    \end{tikzpicture}
\end{center}
In this course, we make the following assumptions:
\begin{itemize}
    \item The number of vertices is finite.
    \item No `multiple edges': every pair of vertices is connected by at most one edge.
    \item No loops: no vertex can be joined to itself - edges have to go between different vertices.
\end{itemize}

\subsection{Where do such structures arise?}
% TODO Konigsberg picture

\begin{eg}
    \leavevmode
    \begin{enumerate}[label=\arabic*.]
        \item Problem: Can we walk across each bridge in this city precisely once, returning to our starting point? (Euler, 1736)

            We turn the problem into a graph problem - in particular, a multigraph to allow multiple edges between vertices.  The vertices of this graph are the four bits of the city, while the edges are the seven bridges.
            In terms of this graph, the problem becomes to walk around the edges of this graph precisely once, and return to the starting vertex.

        \item Map colouring problem (1850s)

            How many colours are required to colour a map such that neighbouring countries get different colours?
            (picture)
            Here, the vertices are countries, and the edges are neighbouring pairs.  If we can draw a graph with no crossing edges, how many colours are needed to colour vertices with all edges having two different colours?

        \item Cosets of finite subgroups of finite groups

            Let $G$ be a finite group, $H \leq G$, $|G : H| = n$.  By Lagrange, $\exists a_1, \dots, a_n \in G$ such that the left cosets of $H$ are $a_1 H, \dots a_n H$.
            Similarly, $\exists b_1, \dots, b_n \in G$ such that the right cosets of $H$ are $H a_1, \dots, H a_n$.
            Can we do this simultaneously? In particular, are there $a_1, \dots, a_n \in G$ such that $a_1 H, \dots, a_n H \in G$ are the left cosets, and $H a_1, \dots, H a_n \in G$ are the right cosets?

            In the case where $H \lhd G$ this is easy since we have $a H = H a \; \forall a \in G$.  However it is less obvious if $H \centernot\lhd G$.
            Let $L$ be the set of left cosets, and let $R$ be the set of right cosets. We can create a graph where the vertices are $L \cup R$.
            Join $X \in L$ to $Y \in R$ by an edge if we can find some $a$ such that $X = aH$ and $Y = Ha$, that is, if $X$ and $Y$ have a common element.  Ideally, we would like a graph like this
            (insert bipartite graph here)

            Formally, we ask: In this graph, can we find a set of edges meeting each vertex precisely once?

        \item Fermat equation mod p

            Consider the equation $x^n + y^n = z^n$. Does this have solutions mod $p$ for $p$ a prime?  Rule out trivial solutions such as $x = 0, y = z$, in particular we search for solutions in $\mathbb{Z}_p$ where $xyz \ne 0$.
            Let $G = \mathbb{Z} \setminus \{0\}$ under multiplication, and $H = \{g^n : g \in G\}$.  We can check that $H \leq G$, and that $|G : H| \leq n$, by considering the number of $n$th roots an element can have.
            So, $G$ can be partitioned into $g_1 H, g_2 H, \dots, g_mH$ for some $g_1, g_2, \dots, g_m$ and $m \leq n$.  Suppose in some $g_i H$, we have $a, b, c$ with $a + b = c$.  Then $a = g_i x^n, b = g_i y^n, c = g_i z^n$ for some $x, y, z \in G$.  Then
            \begin{align*}
              g_i x^n + g_i y^n = g_i z^n \\
              x^n + y^n = z^n
            \end{align*}

            It finally remains to show Schur's Theorem:

            \begin{thm}[Schur's Theorem\label{thm:schur}]
                Let $n$ be a positive integer. Then if $p$ is a sufficiently large positive integer, whenever $\{1, 2, \dots, p\}$ is parititioned into $n$ parts, we can solve $a + b = c$ with $a, b, c$ all in some part.
            \end{thm}
    \end{enumerate}
\end{eg}

\clearpage
\section{Ramsey Theory}

\begin{defi}[Graph]\hypertarget{def:graph}
    A \textbf{graph} is an ordered pair $(V, E) = G$ where $V$ is a finite set and $E$ is a set of unordered pairs of distinct elements of $V$.
    We call elements of $V$ \textbf{vertices} of $G$ and elements of $E$ \textbf{edges}.
    We often write $v \in G$ to mean $v \in V$ and sometimes, where clear, $e \in G$ to mean $e \in E$.
    Often denote $\{u, v\} \in E$ by $uv$. Note $uv = vu$.
\end{defi}

\begin{eg}
    Here's an example of a \hyperlink{def:graph}{graph} $G = (\{1, 2, 3, 4, 5, 6, 7\}, \{12, 23, 13, 14, 67\})$, but it's often easier to represent a graph by a drawing: take a point for each vertex, join two vertices if they are in an edge.
    \begin{center}
        \begin{tikzpicture}
            \node [node] (1) at (-1, 0) {1};
            \node [node] (2) at (0, 1) {2};
            \node [node] (3) at (0, -1) {3};
            \node [node] (4) at (1, 0) {4};

            \node [node] (5) at (2.25, 0) {5};
            \node [node] (6) at (3.5, 0) {6};
            \node [node] (7) at (4.75, 0) {7};

            \draw (4) -- (1) -- (2) -- (3) -- (1);
            \draw (6) -- (7);
        \end{tikzpicture}
    \end{center}
\end{eg}

\begin{defi}[Isomorphism]\hypertarget{def:gIso}
    Let $G = (V, E)$ and $G' = (V', E')$ be \hyperlink{def:graph}{graphs}.
    An \textbf{isomorphism} from $G$ to $G'$ is a bijection $\phi: V \to V'$ such that for all $u, v \in V$, we have $\phi(u) \phi(v) \in E'$ if and only if $u v \in E$.
    If such an isomorphism exists, we say $G$ is \textbf{isomorphic} to $G'$.
\end{defi}

\begin{defi}[Subgraph]\hypertarget{def:subgraph}
    Suppose also $H = (W, F)$ is a \hyperlink{def:graph}{graph}.
    We say $H$ is a \textbf{subgraph} of $G$ and write $H \subset G$ if $W \subset V$ and $F \subset E$.
    Often, we say `$H$ is a subgraph of $G$' to mean `$H$ is \hyperlink{def:gIso}{isomorphic} to a subgraph of $G$'.
\end{defi}

\begin{defi}[Complete graph of order $n$]\hypertarget{def:Kn}
    The \textbf{complete graph of order n}, $K_n$ has $n$ vertices with every pair forming an edge.
\end{defi}

\begin{center}
    \begin{tikzpicture}
        \begin{scope}
            \node [node] (A) at (0, 0) {};
            \node at (0, -1.5) {$K_1$};
        \end{scope}

        \begin{scope}[xshift=4cm]
            \node [node] (A) at (  90:1)  {};
            \node [node] (B) at (-150:1)  {};
            \node [node] (C) at ( -30:1)  {};

            \draw (A) -- (B) -- (C) -- (A);
            \node at (0, -1.5) {$K_3$};
        \end{scope}

        \begin{scope}[xshift=8cm]
            \node [node] (A) at (  90:1)  {};
            \node [node] (B) at ( 162:1)  {};
            \node [node] (C) at (-126:1)  {};
            \node [node] (D) at ( -54:1)  {};
            \node [node] (E) at (  18:1)  {};

            \draw (A) -- (B) -- (C) -- (D) -- (E) -- (A);
            \draw (A) -- (C) -- (E) -- (B) -- (D) -- (A);
            \node at (0, -1.5) {$K_5$};
        \end{scope}
    \end{tikzpicture}
\end{center}

Looking at the diagram, we see $K_3$ looks like a triangle, and we will often just refer to $K_3$ as a \textbf{triangle}\label{def:triangle}.  In addition, note that if $m \leq n$, then $K_m \subset K_n$.

Recall \nameref{thm:schur}:
\begin{thm}[Schur's Theorem reformulated]
    Let $k$ be a positive integer. Then there is a positive integer $n$ such that if the set $[n] = \{1, 2, \dots, n\}$ is coloured with $k$ colours, we can find $a, b, c$ with $a + b = c$ and $a,b,c$ the same colour.
\end{thm}

Can we prove this directly? First try $k=1$, where $n=2$ immediately works because $1+1=2$.

\newcommand{\red}[1]{\textcolor{bred}{#1}}
\newcommand{\green}[1]{\textcolor{bgreen}{#1}}
\newcommand{\blue}[1]{\textcolor{bblue}{#1}}
\newcommand{\yellow}[1]{\textcolor{byellow}{#1}}

For $k=2$, use colours \red{red} and \green{green}, wlog we can take \red{$1$ red}.
As $\red{1}+\red{1}=2$, we must have a \green{green $2$}.
Similarly, \red{$4$} must be \red{red} otherwise $\green{2}+\green{2}=\green{4}$.
Next, we have $\red{1} + 3 = \red{4}$, so \green{$3$} must be \green{green}.
Finally, notice that $\red{1} + \red{4} = \green{2} + \green{3}$ so $n = 5$ suffices.

This case analysis worked for $k=2$, but is likely to get a lot more fiddly for larger $k$.
Even for $k=3$ this case analysis turns out to be a lot harder, so can we come up with a `better' proof for the $k=2$ case, that is `more likely to generalise'?

\begin{proof}($k=2$ of Schur's Theorem, improved)
    Suppose $[5] = \{1, 2, 3, 4, 5\}$ are coloured \red{red} and \green{green}.
    Then some three of these are the same colour, and without loss of generality $\red{i} < \red{j} < \red{k}$ are \red{red}.
    If $j-i$ is \red{red} we are done, since $\red{i} + \red{(j-i)} = \red{j}$.
    Similarly if $k-i$ or $k-j$ is \red{red}, we are done.
    If not, all of $j-i$, $k-i$, $k-j$ are \green{green}, but then $\green{k-i} = \green{(j-i)} + \green{(k-j)}$, and we are done.
\end{proof}

Let's try a similar approach for $k=3$, and I claim $n=16$ works.

\begin{proof}(Schur's theorem, $k=3$)
    Suppose $[16]$ are coloured \red{red}, \green{green} and \blue{blue}.
    By the pigeonhole principle, some six numbers are the same colour, without loss of generality $\red{x_1} < \red{x_2} < \dots < \red{x_6}$ are \red{red}.
    If $x_j - x_i$ is \red{red} for any $i<j$ then we are done: $\red{x_i} + \red{(x_j - x_i)} = \red{x_j}$.
    So assume all $x_j - x_i$ are \blue{blue} or \green{green}.
    Consider the five numbers $x_2 - x_1$, $x_3 - x_1$, $x_4 - x_1$, $x_5 - x_1$, $x_6 - x_1$.
    By the pigeonhole principle, some three of these are the same colour: say $\green{x_i - x_1}$, $\green{x_j - x_1}$, $\green{x_k - x_1}$ are green, for $i < j < k$.

    If $x_j - x_i$ is \green{green}, we are done: $\green{(x_i - x_1)} + \green{(x_j - x_i)} = \green{x_j - x_1}$, similarly if $x_k - x_i$ or $x_k - x_j$ is \green{green}.
    Otherwise, all of $\blue{x_j - x_i}$, $\blue{x_k - x_i}$, $\blue{x_k - x_j}$ are \blue{blue}, and we have $\blue{(x_j - x_i)} + \blue{(x_k - x_j)} = \blue{x_k - x_i}$, so we are done.
\end{proof}

This last paragraph looks very similar to the proof of the $k=2$ case, so can we use induction? It's unclear, because it wasn't exactly the previous case.  But notice how we always seem to be interested in differences of two numbers, yet we never seem to use facts like $7-3 = 9-5$.
So, consider a graph where the vertices are numbers, and the edges refer to the difference between two vertices, and we colour edges.

Suppose the edges of a complete graph $K_6$ are coloured blue and yellow. Then we can find a monochromatic \hyperref[def:triangle]{triangle}.
\begin{proof}
    Pick $v \in K_6$. $v$ is in five edges, so some three are the same colour, without loss of generality call them $vx, vy, vz$ and say they are \red{red}.
    If any of $xy, xz, yz$ is \red{red}, we have a \red{red} $triangle$ with $v$.
    If not, $xyz$ is a \green{green} triangle.
    \begin{center}
        \begin{tikzpicture}[scale=1.5]
            \begin{scope}
                \node[node] (v) at ( -0.5, 0) {$v$};
                \node[node] (x) at (60: 1)    {$x$};
                \node[node] (y) at ( 1, 0)    {$y$};
                \node[node] (z) at (-60:1)    {$z$};

                \draw[bgreen, very thick] (x) -- (y) -- (z) -- (x);
                \begin{scope}[bred]
                    \draw (v) -- (x);
                    \draw (v) -- (y);
                    \draw (v) -- (z);
                \end{scope}
            \end{scope}
            \begin{scope}[xshift=-3cm]
                \node[node] (v) at ( -0.5, 0) {$v$};
                \node[node] (x) at (60: 1)    {$x$};
                \node[node] (y) at ( 1, 0)    {$y$};
                \node[node] (z) at (-60:1)    {$z$};

                \draw[bgreen] (y) -- (z) -- (x);
                \begin{scope}[bred]
                    \draw (v) -- (z);
                    \draw[very thick] (x) -- (y) -- (v) -- (x);
                \end{scope}
            \end{scope}
        \end{tikzpicture}
    \end{center}
\end{proof}

\begin{remark}
    Schur for $k=2$ now follows: Suppose $[5]$ are coloured \red{red}/\green{green}. Take a $K_6$ with vertices $\{0, 1, \dots, 5\}$. Colour edge $ij$, $(i<j)$ with the colour of $j-i$.
    By the above proof, we have a monochromatic triangle $abc$ ($a<b<c$). Then $(c-b) + (b-a) = c-a$, and $c-b, b-a, c-a$ are all the same colour.
    We cannot necessarily find a monochromatic triangle in $K_5$, so 6 vertices are necessary.

    \begin{center}
        \begin{tikzpicture}[scale=2]
            \node [node] (A) at (  90:1)  {};
            \node [node] (B) at ( 162:1)  {};
            \node [node] (C) at (-126:1)  {};
            \node [node] (D) at ( -54:1)  {};
            \node [node] (E) at (  18:1)  {};

            \draw[bred] (A) -- (B) -- (C) -- (D) -- (E) -- (A);
            \draw[bgreen] (A) -- (C) -- (E) -- (B) -- (D) -- (A);
        \end{tikzpicture}
    \end{center}

    In this graph form, the statement for more colours is now amenable to an induction proof.
\end{remark}

% prop 1
\begin{nprop}
    Let $k$ be a positive integer. Then there is a positive integer $n$ such that whenever the edges of $K_n$ are coloured with $k$ colours we can find a monochromatic triangle.
\end{nprop}

\pgfmathsetseed{1}

\begin{proof}
    Induction on $k$. For $k=1$, $n=3$ works, so consider $k>1$.

    By the induction hypothesis, there exists $m$ such that if $K_m$ is $(k-1)$-coloured, then there is a monochromatic triangle.  Let $n = k(m-1) + 2$.

    Now $k$-colour the edges of $K_n$.  Pick vertex $v$.
    The number of edges containing $v$ is $n-1 = k(m-1)+1$.  So some $m$ of them are the same colour, without loss of generality blue.
    Let $H$ be a $K_m$ joined to $v$ by blue edges. If $H$ contains a blue edge, it makes a blue triangle with $v$.
    If not, $H$ is a $(k-1)$-coloured $K_m$ so by definition of $m$, it contains a monochromatic triangle.
    \begin{center}
        \begin{tikzpicture}[scale=0.5]
            \node[node] (v) at (0, 0) {$v$};

            \foreach \theta in {25, 15, ..., -25}
                \draw[bred] (v) -- (\theta+rand*3:6+rand*0.2);

            \begin{scope}[xshift=6.5cm, scale=3]
                \draw plot [smooth cycle, tension=0.8] coordinates {(-180:1) (-120:1.2) (-60:0.8) (0:0.9) (60:1.1) (120:1.3)};
                \node at (0.4, 0.6) {$H$};
            \end{scope}
        \end{tikzpicture}
    \end{center}
\end{proof}

\begin{remark}
    \leavevmode
    \begin{enumerate}
        \item Can think in terms of the following picture. Eventually, we will run out of colours and get a monochromatic triangle.
            \begin{center}
                \begin{tikzpicture}[scale=0.6]
                    \draw [help lines] (-10, -5) grid (10, 5);
                    \node[node, label={$v$}] (v) at (-8, 0) {};

                    \foreach \theta in {24, 22, ..., -22}
                        % \draw[bred] (v) -- ($(\theta:6+rand*0.2) + (-8, 0) $);
                        \draw[bred] (v) -- ++(\theta+rand*0.01:4+rand*0.1);

                    \draw plot [smooth cycle, tension=0.8, xshift=2cm, xscale=2.5, scale=3] coordinates {(-180:1) (-120:1.2) (-60:0.8) (0:0.9) (60:1.1) (120:1.3)};
                \end{tikzpicture}
            \end{center}

        \item How big do we need to take $n$ to be?  Let $f(k)$ be the smallest $n$ that works with $k$ colours. Clearly $f(1) = 3$. Our proof says for $k>1$, $f(k) \leq k \left(f(k-1)-1\right) + 2 \leq k f(k-1)$.  So by induction, $f(k) < 3 k!$.
        \item Schur's theorem (add link) follows immediately in the same way as for the $k=2$ case.
    \end{enumerate}
\end{remark}

Can we find larger monochromatic subgraphs, for instance a monochromatic $K_4$?  Think about two colours at first for simplicity.  Yes, but need an intermediate step first.

\begin{eg}
    \leavevmode
    \begin{enumerate}
        \item Let $K_{10}$ have edges coloured blue/yellow.
            Then there is a blue triangle or a yellow $K_4$.
            \begin{proof}
                Take a vertex $v$. It's in $9$ edges so either $v$ is in $4$ blue edges, or in $6$ yellow edges.
                $v$ is in $4$ blue edges
                If any edge between $w, x, y, z$ is blue, we have a blue triangle.
                If not, there are all yellow and we have a yellow $K_4$.

                $v$ is in $6$ yellow edges We know $H$ contains a monochromatic triangle. If it is blue, we are done.  If it is yellow, then it makes a $K_4$ with $v$ as required.
            \end{proof}
        \item Let $K_{20}$ be coloured blue/yellow. Then $\exists$ a monochromatic $K_4$.
            \begin{proof}
                Pick a vertex $v$. It's in $19$ edges, so some $10$ of them are the same colour, without loss of generality blue.
                Let $H$ be a $K_{10}$ joined to $v$ by blue edges.
                Either $H$ has a blue triangle, making a blue $K_4$ with $v$
                Or $H$ contains a yellow $K_4$
            \end{proof}
    \end{enumerate}
\end{eg}

\begin{defi}[\hypertarget{def:ramseyNum}{Ramsey number}]
    Let $s, t \geq 2$. The Ramsey number $R(s, t)$ is the least $n$ such that whenever $K_n$ has edges coloured blue/yellow there must be a blue $K_s$ or a yellow $K_t$ (if such an $n$ exists).
    We also write $R(s) = R(s, s)$.
\end{defi}

We have seen $R(3) = 6$; $R(3, 4) \leq 10$; $R(4) \leq 20$.

\begin{nthm}[Ramsey's Theorem\label{thm:ramsey}]
    $R(s, t)$ exists for all $s, t \geq 2$.  Moreover, if $s, t \geq 2$ then $R(s, t) \leq R(s-1, t) + R(s, t-1)$.
\end{nthm}

\begin{proof}
    Induction on $s+t$.

    For $s=2$, we have $R(2, t) = t$, because reasons.  Similarly $R(s, 2) = s$.
    In the case $s, t > 2$, let $a = R(s-1, t)$ and $b = R(s, t-1)$ which exist by the induction hypothesis.  Let $n = a+b$. Suppose $K_n$ has edges coloured blue/yellow.
    Pick $v \in K_n$, which is in $a+b-1$ edges, so either $v$ is in $a$ blue edges, or it is in $b$ yellow edges.
    \begin{enumerate}
        \item If it is in $a$ blue edges, let $H$ be the $K_a$ joined to $v$ be blue edges.  Now $a = R(s-1, t)$, so either $H$ has a blue $K_{s-1}$, making a blue $K_s$ with $v$, or $H$ has a yellow $K_t$, so done.
        \item $v$ is in $b$ yellow edges, and we can make the same argument with colours reversed.
    \end{enumerate}
\end{proof}

% cor 3
\begin{ncor}
    For all $s, t \geq 2$, $R(s, t) \leq 2^{s+t}$, so $R(s) \leq 4^s$.
\end{ncor}

\begin{proof}
    Induction on $s + t$.  Base cases $s=2$, $R(2, t) = t \leq 2^{2+t}$ and similar for $t=2$.
    For $s, t \geq 2$
    \begin{align}
        R(s, t) &\leq R(s-1, t) + R(s, t-1) \\
                &\leq 2^{s-1+t} + 2^{s+1-t} \\
                &= 2^{s+t}
    \end{align}
\end{proof}

A more careful version of the same proof gives $R(s) = \mathcal{O} (\frac{4^s}{\sqrt{s}})$ (Erdos-Szekeres 1935)
A harder proof gives an improvement to $R(s) = \mathcal{O}(\frac{4^s}{s})$ (Thomason 1988)
An even harder proof gives $R(s) = \mathcal{O}(\frac{4^s}{s^k})$ for any $k$ (Conlon 2009)
Is $R(s) = \mathcal{O}((3.999999999)^s)$? Unknown.

\begin{nthm}[Multicolour Ramsey Theorem{thm:multiRamsey}]
    Let $k \geq 1$ and $s \geq 2$. Then there exists some $n$ such that whenever the edges of $K_n$ are coloured with $k$ colours, we can find a monochromatic $K_s$.
\end{nthm}

\begin{proof}
    Induction on $k$. For the base case $k=1$, we can take $n=s$.

    For $k>1$, by the induction hypothesis we can find $M$ such that if $K_m$ is $(k-1)$-coloured, then there is a monochromatic $K_s$.
    Let $n = R(s, m)$ and colour $K_n$ with $k$ colours, including blue but not yellow. Re-colour by turning all non-blue edges yellow. By definition, of $n$, we have either
    \begin{itemize}
        \item A blue $K_s$, so done
        \item A yellow $K_m$. Then in the original colouring, this $K_m$ was $(k-1)$-coloured, so by definitin of $m$, it contains a monochromatic $K_s$.
    \end{itemize}
\end{proof}

\begin{remark}
    \begin{enumerate} % 1.
        \item We write $R_k(s)$ for the smallest $n$ that works. In particular $R_1(s) = s$ and $R_2(s) = R(s)$.
            Proof of theorem 4 will give $R_k(s) \leq 4^{s^{k-1}}$.
        \item What do we really mean by colouring?
            We have informally talked about `yellow edges' etc. More formally, we have a colouring of the edges of $G = (V, E)$ with $k$ colours is a function $c: E:[k]$. We mostly refer to the colours as `blue', `yellow' and so on.
            We say $H = (W, F)$ is monochromatic if $c \mid_F$ is constant.
    \end{enumerate}
\end{remark}

With any number of colours, we can find arbitrarily large monochromatic subgraphs. What about infinite ones?

\begin{defi}[Infinite graph]\hypertarget{def:infGraph}
    An \textbf{infinite graph} is an ordered pair $G = (V, E)$ where $V$ is an infinite set and $E$ is a set of unordered pairs of elements of $V$. Note, in our terminology, an infinite graph is not a graph.
\end{defi}

\begin{defi}[(Possibly infinite) graph]\hypertarget{def:dumbDefi}
    A \textbf{(possibly infinite) graph} is a graph or an infinite graph.
\end{defi}

\begin{defi}[Infinite complete graph]\hypertarget{def:kInf}
    $K_\infty$ is the infinite graph with a countably infinite vertex set and every pair of vertices forming an edge.
\end{defi}

Where it makes sense to do so, we carry terminology over from graphs to infinite graphs.

Suppose edges of $K_\infty$ are coloured blue/yellow. What can we find? By Ramsey, we can find a monochromatic $K_s$ for every finite $s = 1, 2, 3, \dotsc$. Note this doesn't immediately give a monochromatic $K_\infty$:
In the diagram, we see that for any finite $s$ we have a blue $K_s$ but no blue $K_\infty$.  (However in this example, there is a yellow $K_\infty$)

\begin{nthm}[Infinite Ramsey Theorem]\label{thm:infRamsey}
    Let $k \geq 1$. Whenever the edges of $K_\infty$ are $k$-coloured, we have a monochromatic $K_\infty$ subgraph.
\end{nthm}

\begin{proof}
    Take $v_1 \in K_\infty$.  The vertex $v_1$ is in infinitely many edges, so infinitely many edges from $v_1$ are the same colour.
    Let $A_1$ be an infinite set of vertices of $K_\infty$ such that for all $u \in A_1$, $v_1 u$ has colour $c_1$.
    Now pick $v_2 \in A_1$. SImilarly, we can find an infinite $A_2 \subset A_1$ such taht all edges $v_2 u$ for ($u \in A_2$) have colour $c_2$.
    Keep going. We get infinite seuqences $v_1, v_2, v_3, \dotsc$ of vertices, $c_1, c_2, c_3, \dotsc$ of colours and $A_1 \supset A_2 \supset A_3 \supset \dots$ such that
    \begin{itemize}
        \item for $i \geq 2$, $v_i \in A_{i-1}$
        \item for $i \geq 1$, for all $u \in A_i$, $v_i u$ is an edge of colour $c_i$.
    \end{itemize}
    In particular, if $i < j$ then $v_i v_j$ has colour $c_i$. Now, infinitely many of the $c_i$ are the same.
    Say $i_1 < i_2 < i_3 < \dots$ such that $c_{i_1} = c_{i_2} = c_{i_3} = \dotsc$.
    Consider $v_{i_1}, v_{i_2}, v_{i_3}, \dotsc$. Any edge between two of these vertices hasc colour $c_{i_1}$. So we have a monochromatic $K_\infty$.
\end{proof}

\begin{remark}
    This is often called a `two-pass proof'. On the first pass, we found a sequence of colours, and on the second pass we found infinitely many colours the same.
\end{remark}

\begin{ncor}
    Any bounded sequence has a convergenet subsequence.
\end{ncor}

\begin{proof}
    Any bounded monotone seuqence converges, so it is enough to show that any real sequence $(x_n)_{n \geq 1}$ has a monotone subseuqence.
    Let $G$ be a $K_\infty$ with vertex set $\set{1, 2, 3, \dotsc}$. Colour $ij$, with $i<j$ blue if $x_i < x_j$ and yellow if not.

    By infinite Ramsey, there is a monochromatic subgraph $H \cong K_\infty$. Let the vertices of $H$ be $n_1 < n_2 < n_3 < \dots$.
    If $H$ is blue, then $(x_{n_j})_{j \geq 1}$ is decreasing, whereas if $H$ is yellow then $(x_{n_j})_{j \geq 1}$ is increasing.
\end{proof}

\clearpage

\subsection{Basic Terminology}

Let $G = (V, E)$ be a graph. Sometimes write $V(G) = V$, and $E(G) = E$.
The \textbf{order} of $G$ is $\abs{G} = \abs{V(G)}$. We denote the number of edges of $G$ by $e(G) = |E(G)|$, sometimes called the size of $G$.

Note that the \hyperlink{def:Kn}{complete graph of order $n$} has order $n$.

\begin{defi}[Neighbourhood\hypertarget{def:neighbour}]
    Let $v \in G$. Then \textbf{neighbourhood} of $v$ is the set
    \begin{equation}
        \Gamma(v) = \set{w \in G | vw \in E(G)}
    \end{equation}

    If $w \in \Gamma(v)$, then $w$ is a \textbf{neighbour} of $v$, or $w$ is \textbf{adjacent} to $v$, we write $w \sim v$.
\end{defi}

\begin{defi}[Degree\hypertarget{def:degree}]
    The \textbf{degree} of $v$ is $d(v) = \abs{\Gamma(v)}$, the number of vertices \hyperlink{def:neighbour}{adjacent} to $v$.

    The \textbf{maximum degree} of $G$ is $\Delta(G) = \max_{v \in G} d(v)$

    The \textbf{minimum degree} of $G$ is $\delta(G) = \min_{v \in G} d(v)$

    The \textbf{average degree} of $G$ is $\frac{1}{\abs{G}} \sum_{v \in G} d(v)$
\end{defi}

Clearly $\delta(G) \leq \text{average degree of} G \leq \Delta(G)$.

\begin{defi}[Regular\hypertarget{def:regular}]
    If every vertex in $G$ has the same degree, we say $G$ is \textbf{regular}.

    If this degree is $r$, say $G$ is \textbf{$r$-regular}.
\end{defi}

\begin{eg}
    How do vertex-degrees relate to $e(G)$?  We can count `ends of edges' in two different ways. In particular, each edge has two ends, so there are $2 e(G)$ ends. A vertex $v$ is in $d(v)$ ends, so there are $\sum_{v \in G} d(v)$ ends, and hence  $\sum_{v \in G} d(v)= 2 e(G)$.

    Hence also the average degree of $G$ is $\frac{2e(G)}{\abs{G}}$.
\end{eg}

\begin{defi}[Path\hypertarget{def:path}]
    Let $G$ be a graph. A \textbf{path} in $G$ is a finite sequence $v_0, v_1, \dotsc, v_l$ of distinct vertices of $G$ with $v_{i-1} \sim v_i$ for $1 \leq i \leq l$.

    \begin{tikzpicture}
        \node [node] (0) {$v_0$};
        \node [node] [right=of 0] {$v_1$};
    \end{tikzpicture}

    We say this path has length $l$ and goes from $v_0$ to $v_l$.

    If $v, w \in G$ we write $v \to w$ to mean there is a path from $v$ to $w$.
\end{defi}

The relation $\to$ is an equivalence relation (Exercise.) % TODO thing about transitivity

\begin{defi}[Components\hypertarget{def:components}]
    The equivalence classes of $\to$ are called the \textbf{components} of $G$. If $G$ has only one component, we say $G$ is \textbf{connected}.
    % TODO diagram of components
\end{defi}

\begin{defi}[Cycle\hypertarget{def:cycle}]
    A \textbf{cycle} is a sequence $v_0, v_1, \dotsc, v_l$ of vertices of $G$ with $v_0, \dots, v_{l-1}$ distinct, $v_l = v_0$, $v_{i-1} \hypertarget{def:path}{\sim} v_i$ for $1 \leq i \leq l$ and $l \leq 3$.
    We say that the length of the cycle is $l$.
    % TODO cycle diagram
\end{defi}

\begin{defi}[Forest\hypertarget{def:tree}]
    % TODO forest diagram
    A graph with no cycles is called a \textbf{forest}.  A \textbf{tree} is a connected forest. Each component of a forest is a tree.
\end{defi}

\begin{defi}[Disjoint union\hypertarget{def:disUnion}]
    Suppose $G$, $H$ are graphs with $V(G) \cap V(H) = \emptyset$. The \textbf{disjoint union} of $G, H$ is the graph $G \cup H$ with $V(G \cup H) = V(G) \cup V(H)$ and $E(G \cup H) = E(G) \cup E(H)$.

    We often write $G \cup H$ even if $V(G) \cap V(H) \neq \emptyset$, this means take graphs $G', H'$ with $G' \cong G$, $H' \cong H$, $V(G') \cap V(H') = \emptyset$ then take $G' \cup H'$.
\end{defi}

\begin{eg}
    \leavevmode
    \begin{enumerate}
        \item $K_3 \cup K_5$ % TODO diagram here
        \item Any graph is the disjoint union of its components $(G_1 \cup \dots \cup G_k)$.
            For instance, a forest is a \hyperlink{def:disUnion}{disjoint union} of trees.
    \end{enumerate}
\end{eg}

\begin{defi}[Induced subgraph\hypertarget{def:indSubgraph}]
    Let $G = (V, E)$ be a graph, and let $W \subset V$. The \textbf{induced subgraph} on $W$ is the graph $G[W]$ with $V(G[W]) = W$ and, for $x,y \in W$, $xy \in E(G[W]) \iff xy \in G$.
\end{defi}

\begin{defi}[Complement\hypertarget{def:complement}]
    Let $G = (V, E)$ be a graph. The \textbf{complement} of $G$ is the graph $\overline{G}$ with $V(\overline{G}) = V$, and for distinct $x, y \in V$, $xy \in E(\overline{G}) \iff xy \notin E$.
\end{defi}

\begin{eg}
    \leavevmode
    \begin{itemize}
        \item Suppose edges of $K_n$ are coloured blue/yellow. We can think about the `blue subgraph' with $n$ verties and blue edges only. The complement is the yellow subgraph.
        \item % TODO self complement
    \end{itemize}
\end{eg}

\begin{notation}
    Let $f, g: \N \to (0, \infty)$.
    We say
    \begin{itemize}[label={--}]
        \item $f = \mathcal{O}(g)$ if $f < A g$ for some constant $A$.
        \item $f = \Omega(g)$ if $g = \mathcal{O}(f)$
        \item $f = \Theta(g)$ if $f = \mathcal{O}(g)$ and $f = \Omega(g)$.

        \item $f = o(g)$ means $f/g \to 0$ (as $n \to \infty$)
        \item $f = \omega(g)$ means $f/g \to \infty$
        \item $f \sim g$ means $f/g \to 1$.
    \end{itemize}
\end{notation}

\section{Extremal Graph Theory}

\paragraph{Problem} (from (link) section 1): How large must $n$ be so that if edges of $K_n$ are coloured blue/yellow then always get a monochromatic $K_s$?

Let $G$ be a `blue subgraph' of $K_n$, consisting of all vertices, and only the blue edges.
$K_n$ has a blue $K_s \iff K_s \subset G$, and $K_n$ has a yellow $K_s \iff G$ has an induced $\overline{K_s}$ subgraph.

\paragraph{rephrase}
How large must $n$ be to force every graph of order $n$ to have $K_s$ or $\overline{K_s}$ as an induced subgraph?

This is a typical example of an \textbf{extremal problem}: How large must some parameter of $G$ be to force $G$ to have a certain property?

Alternatively, how big can the parameter be with $G$ not having the property?

\subsection{Forbidding Subgraph Problem}
Fix a graph $H$ with at least one edge. Let $n \geq \abs{H}$. Clearly $H \subset K_n$ but $H \not\subset \overline{K_n}$.

How many edges must a graph $G$ of order $n$ have to force $H \subset G$? Alternatively, if $\abs{G} = n$ and $H \subset G$, how large can $e(G)$ be?

\begin{defi}
    Define
    \begin{equation*}
        \ext(n; H) = \max\set{e(G) | \abs{G} = n, H \not\subset G}
    \end{equation*}
\end{defi}

\paragraph{Problem} Can we determine $\ext(n; H)$?

\subsubsection{Triangles}
Let $H = K_3$. The goal is to find $G$ with $\abs{G} = n$, $e(G)$ large and $\Delta \not\subset G$.

The idea is to partition $V(G) = X \cup Y$ with all edges going from $X$ to $Y$.

\begin{defi}
    A grpah $G$ is \textbf{bipartite} (with bipartition $(X, Y)$) if $V(G)$ can be partitioned as $X \cup Y$ in such a way that if $e \in E(G)$ then $e = xy$ for some $x \in X$, $y \in Y$.
\end{defi}

Bipartite graphs have no $\Delta$s (and indeed no cycles of odd length). In fact the converse is also true:
% thm 7
\begin{nthm}
    A graph is bipartite iff it contains no odd cycles.
\end{nthm}

\begin{proof}
    May return to this later, an exercise for now.
\end{proof}

Which bipartite graph is best?

Clearly it is a good idea to include all possible edges from $X$ to $Y$.

\begin{defi}
    Let $s, t \geq 1$. The \textbf{complete bipartite graph} $K_{s, t}$ has bipartition (X, Y) with $\abs{X} = s$, $\abs{Y} = t$ and $xy \in E(K_{s, t})$ $\forall x \in X, y \in Y$.
\end{defi}

We have $\abs{K_{s, t}} = s + t$ and $e(K_{s, t}) = st$, and aim to maximise $st$ subject to $s + t = n$, that is, maximise $s(n-s)$.
So, the best bipartite graph is $K_{\ceil{\frac{n}{2}}, \floor{\frac{n}{2}}}$

But what if some non-bipartite graph is better?
In fact, the bipartite graph always wins:

% thm 8
\begin{nthm}[Mantel's Theorem]
    Let $n \geq 3$. Suppose $\abs{G} = n$, $e(g) \geq \floor{\frac{n^2}{4}}$ and $\Delta \not\subset G$.
    Then $G \cong K_{\ceil{\frac{n}{2}}, \floor{\frac{n}{2}}}$
\end{nthm}

\begin{proof}
    Induction on $n$. Start with the $n=3$ case:
    \paragraph{$n=3$}: Consider $K_{2, 1}$, it satisfies $\abs{G} = 3$, $e(G) \geq 2$, $\Delta \subset G$, as required.
    \paragraph{$n>3$}: Let $\abs{G} = n$, $e(G) \geq \floor{\frac{n^2}{4}}$, $\Delta \subset G$.

    First, remove edges from $G$ if necessary to get $H$ with $\abs{H} = n$, $e(H) = \floor{\frac{n^2}{4}}$. Clearly $\Delta \not\subset H$.

    Let $v \in H$ with $d(v) = \delta(H)$ and let $K = H - v$ (ie $H$ with vertex $v$ and all edges including $v$ removed). Now, $\abs{K} = n-1$, $\Delta \not\subset K$ and $e(K) = \floor{\frac{n^2}{4}} - \delta(H)$.

    Suppose $n$ is even. Then $\delta(H) \leq \text{average degree of H } = \frac{2 e(H)}{H} = \frac{n^2/2}{n} = \frac{n}{2}$.
    Hence $e(K) \geq \frac{n^2}{4} - \frac{n}{2} = \frac{n^2 - 2n}{4} = \frac{n^2 - 2n + 1}{4} - \frac{1}{4} = \frac{(n-1)^2}{4} - \frac{1}{4} = \floor{\frac{(n-1)^2}{4}}$
    Similarly if $n$ odd, also get $e(K) \geq \floor{\frac{(n-1)^2}{4}}$. Hence by the induction hypothesis, $K \cong K_{\ceil{\frac{n-1}{2}, \floor{\frac{n-1}{2}}}}$.

    Also $d(v) = e(H) - e(K)$.
    If $n$ even, $d(v) = \frac{n^2}{4} - \frac{n^2 - 2n}{4} = \frac{n}{2}$.
    $H$ is formed by adding a vertex $v$ to $K \cong K_{\frac{n}{2}, \frac{n-2}{2}}$ and joining $v$ to $\frac{n}{2}$ vertices of $K$, without creating a $\Delta$.

    If $K$ has bipartition $(X, Y)$, $v$ cannot be joined both to a vertex in $X$ and a vertex in $Y$. So $v$ must be joined to all vertices in the larger of $X$, $Y$.

    Thus $H \cong K_{\ceil{\frac{n}{2}}, \floor{\frac{n}{2}}}$ and similarly if $n$ is odd.

    We recover $G$ by adding edges to $H$ without making a $\Delta$. But any new edge creates a $\Delta$, so $G \cong H$.
\end{proof}

Hence if $\abs{G} = n$, $e(G) > \floor{\frac{n^2}{4}}$ then $\Delta \subset G$. Therefore $\ext(n; \Delta) = \floor{\frac{n^2}{4}}$.

\subsubsection{Complete graphs}
% what about K4? try a tri-partite

% def r-partite
\begin{defi}
    A graph $G$ \textbf{$r$-partite}  if we can partition $V(G) = X_1 \cup \dotsb \cup X_r$ in such a way that if $xy \in E(G)$ then $x \in X_i, y \in X_j$ for some $i \neq j$.
    We say $G$ is \textbf{complete $r$-partite} if whenever $x \in X_i$, $y \in X_j$ with $i \neq j$ then $x y \in E(G)$.
\end{defi}

% def turan graph finish!!
\begin{defi}
    The \textbf{Tur\'{a}n graph} $T_r(n)$ is the complete $r$-partite graph with $n$ vertices and vertex-calsses as equal as possible. Write $t_r(n) = e(T_r(n))$.
\end{defi}

\begin{eg}
    \leavevmode
    \begin{itemize}
        \item $T_2(n) = K_{\floor{\frac{n}{2}}, \ceil{\frac{n}{2}}}$
        \item The diagram shows $T_3(7)$.
    \end{itemize}
\end{eg}

Properties of the Tur\'{a}n graph
\begin{enumerate}
    \item $K_{r+1} \not\subset T_r(n)$. If we add an edge to $T_r(n)$ we create a $K_{r+1}$.
    \item $T_r(n)$ has more edges than any other $r$-partite graph on $n$ vertices. Suppose $G$ is a complete $r$-partite graph with some two vertex classes $X, Y$ with $\abs{Y} > \abs{X}+1$.
        Moving a vertex from $Y$ to $X$ loses $\abs{X}$ edges but gains $\abs{Y}-1 > \abs{X}$ edges.
    \item If $r \mid n$ then all classes of $T_r(n)$ are same.
        If $r \nmid n$ then we have `small' classes, with $k$ vertices, say, and `big' classes with $k+1$ vertices.
    \item If $r \mid n$ then $T_r(n)$ is regular.
        If $r \nmid n$ then if $v$ in big class, $d(v) = \delta(T_r(n))$ and if $v$ is in the small class $d(v) = \Delta(T_r(n)) = \delta(T_r(n)) + 1$
        So in general, vertex degrees in $T_r(n)$ differ by at most 1.
    \item Deleting a vertex of minimal degree from $T_r(n)$ removes a vertex from a big class, thus making $T_r$ (n-1).
        So $t_r(n-1) = t_r(n) - \delta(T_r(n))$.
    \item Suppose we have $T_r(n-1)$. Add a vertex $v$. How many edges can we add without creating a $K_{r+1}$? We can't join $v$ to a vertex in every class so must miss some class.
        So the best is to join $v$ to all vertices except those in a particular small class $X$.
        Same as adding $v$ to class $X$, so we've made $T_r(n)$. So \# of edges we can add is at most $t_r(n) - t_r(n-1)$ and only way to achieve this makes $T_r(n)$.
\end{enumerate}

% thm 9
\begin{nthm}[Tur\'{a}n's Theorem]
    Let $r \geq 2$ and $\abs{G} = n \geq r+1$. If $e(G) \geq t_r(n)$ and $K_{r+1} \not\subset G$ then $G \cong T_r(n)$.
\end{nthm}

\begin{proof}
    Induction on $n$.
    $n = r+1$. $T_r(r+1)$ has one class of 2 vertices, rest with 1 vertex each. So $T_r(r+1)$ is $K_{r+1}$ with 1 edge removed. So $G \cong T_r(r+1)$.
    % diagram

    $n > r+1$. First delete edges from $G$ to form subgraph $H$ with $\abs{H} = n$, $e(H) = t_r(n)$ and $K_{r+1} \not \subset H$. Let $v \in H$ have minimal degree and let $K = H- v$.
    We know $\abs{H} = \abs{T_r(n)}$ and $e(H) = e(T_r(n))$ so $H$ and $T_r(n)$ have same average degree. But degrees in $T_r(n)$ are as equal as possible by (4).

    So $\delta(H) \leq \delta(T_r(n))$. Thus $\abs{K} = n-1$, $K_{r+1} \not\subset K$ and $e(K) = e(H) - \delta (H) \geq e(H) - \delta(T_r(n)) = t_r(n) - \delta(T_r(n)) = t_r(n-1)$ by 5.

    So by induction hypothesis, $K \cong T_r(n-1)$. And $d(v) = e(H) - e(K) = t_r(n) - t_r(n-1)$.
    To recover $H$, we must add a vertex and $t_r(n) - t_r(n-1)$ edges to $K$ without creating a $K_{r+1}$. So by 6, $H \cong T_r(n)$.
    To recover $G$, add edges to $H$ without creating a $K_{r+1}$. But by (1) we can't add any edges. So, $G \cong T_r(n)$.
\end{proof}

So if $r \geq 2$, $n \geq r+1$, $\ext(n, K_{r+1}) = t_r(n)$.

How big is $t_r(n)$ approximately?
Each vertex is joined to a proportion approximately $1 - \frac{1}{r}$ of all vertices, so we have a proportion approx $1 - \frac{1}{r}$ of all possible edges. So $\ext(n; K_{r+1}) \approx (1-\frac{1}{r}) \binom{n}{2}$.
More precisely,

% cor 10
\begin{ncor}
    Let $r \geq 2$. As $n \to \infty$, $\ext(n; K_{r+1}) \sim (1 - \frac{1}{r}) \binom{r}{2}$
\end{ncor}

% 2.1.3
\subsubsection{Bipartite graph}
Can think of cycles and paths as graphs (ignore direction and start point). The graph $C_n$ is cycle of length $n$ eg $C_5$.

\begin{defi}
    The \textbf{cyclic graph of order $n$}, is the cycle of length $n$, called $C_n$.
    % draw C_5
\end{defi}

\begin{defi}
    The \textbf{path graph} of order $n$ is the path of length $n$, called $P_n$.
    % draw P_3
\end{defi}

So $\abs{C_n = n}$, $\abs{P_n} = n+1$, and $e(C_n) = e(P_n) = n$.

\begin{eg}
    What can we say about $\ext(n; C_4)$? Note $C_4 \cong K_{2, 2}$.
    % TODO draw K2 2
\end{eg}
\end{document}
