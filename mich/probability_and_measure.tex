\documentclass{article}

\def\npart {II}
\def\nyear {2017}
\def\nterm {Michaelmas}
\def\nlecturer{E.\ Brieuillard}
\def\ncourse{Probability and Measure}
\input{header}
% efjb2@cam.ac.uk
% preamble
\setcounter{section}{-1}
% and here we go!

\begin{document}
\maketitle
\section{Introduction}
\subsection{Course structure}
\begin{itemize}
    \item Week 1: Lebesgue measure
    \item Week 2: Abstract measure theory
    \item Week 3: Integration
    \item Week 4: Foundations of probability theory
    \item Week 5: $L^p$ spaces
    \item Week 6: Modes of convergence
    \item Week 7: Fourier transform and gaussians
   \item Week 8: Ergodic Theory
\end{itemize}
\subsection{Historical motivation}
Suppose we have a subset $E \subset \R^d$.
\begin{enumerate}
    \item What does it mean to measure this subset?

        In one dimension, we have some intuition of length, and in two and three dimensions we are familiar with the notions of surface area and volumne

    \item Does it make sense to measure every subset?

        This seems reasonable, but it turns out that assigning a measure to every subset can lead to logical contradictions.
        What is a measure? It should be a function defined on subsets, in particular some assignment $E \to m(E) \in \R$.  It should satisfy some properties:
        \begin{itemize}
            \item Non-negativity: $m(E) \geq 0$ for all $E$
            \item Empty set: $m(\varnothing) = 0$
            \item Additivity: $m(E \sqcup F) = m(E) + m(F)$ for any two disjoint sets $E$ and $F$
            \item Normalisation: $m([0, 1]^d) = 1$
            \item Translation invariant: $m(E + x) = m(E)$ for all $E$ and all $x \in \R^d$
        \end{itemize}
        It's possible to construct pathological `measures' satisfying all these axioms and defined \emph{on all} subsets of $\R^d$, but they won't be `nice'
        When mathematicians construct such measures, they usually do so on a restricted class of sets. Otherwise this leads to contradictions.
        If $d \geq 3$, it can be shown that there is no $m: P(\R^d) \to [0, \infty)$ that are also rotation invariant.  This is referred to as the Hausdorff-Banach-Tarski paradox.
        Namely, if we take $B = B(0, 1) = \{\vec{x} \in \R^d: x_1^2 + \dots x_d^2 \leq 1\}$, then there is a partition (fill in later)

    \item Jordan Measure

        Consider a box $B \subset \R^d$, given by $B = \prod_{i=1}^d I_i$, where $I_i = [a_i, b_i]$ are intervals in $\R$
        From here, we can define the Jordan Measure $m(B) := \prod_{i=1}^d |b_i - a_i|$.

\end{enumerate}
\begin{defi}
    An \textbf{elementary subset} of $\R^d$ is a finite union of boxes.
\end{defi}
\begin{remark}
    Every elementary set can be written as a finite union of disjoint boxes
    The family of elementary sets is stable under finite unions, finite intersections and difference.
    If E = $\sqcup_{i=1}^N B_i = \sqcup_{j=1}^M B'_j$, that is $E$ is a disjoint union of boxes in two different ways, then
    $\sum_{i=1}^N m(B_i) = \sum_{j=1}^M m(B'_j)$
    This says that \emph{makes sense} to define $m(E) as \sum_1^N m(B_i)$, for elementary subsets.
\end{remark}

\begin{defi}
    A subset $E \in \R^d$ is \textbf{Jordan measurable} if $\forall \epsilon > 0 \exists$ elementary sets $A, B$ such that $A \subset E \subset B$ and $m(B\setminus A) < \epsilon$.
\end{defi}
\begin{remark}
    If $E$ is Jordan measurable, then
    \begin{equation}
        \inf\{m(B): E \subset B, B \mathrm{elementary}\} = \sup\{m(A): A \subset E, A \mathrm{elementary}\}
    \end{equation}
    (exercise: check)
\end{remark}
\begin{defi}
    We define the \textbf{Jordan measure} of $E$ as this supremum or infimum.
\end{defi}
\begin{exercise}
    $m$ so defined satisfies all the axioms defined earlier.
\end{exercise}
However the Jordan measure is not perfect. For instance, the complement of a Jordan measurable set is not Jordan measurable.  Similarly, we can take an (infinite) union of Jordan measurable sets and produce a set which is not Jordan measurable.

\begin{defi}[Riemann integrable function]
    A function $f:[a, b] \to \R$ is Riemann integrable if all its Riemann sums converge.
    Formally, the integral $I(f) \in \R$, exists, if $\forall \epsilon > 0$, $\exists \delta > 0$ for every partition $P$ of $[a, b]$ of width $\tau(P) < \delta$,
    $|S(f, P) - I(f)| < \epsilon$.
$P$ a partition $a = t_0 < t_1 < \dots < t_n = b$ width $\tau(P) = \max_{0 \leq 1 \leq N_1} |t_{i+1} - t_i|$
$S(f, P) = \sum_{i=1}^{N-1} P$
% sort this out you slow idiot
\end{defi}

The Jordan measure has problems, for instance there are simple sets that are not Jordan measurable, and simple functions that are not Riemann integrable.
\begin{eg}
    \leavevmode
    \begin{enumerate}
        \item
            \begin{equation*}
                \mathbb{1}_\Q(x) = \begin{cases}
                    1 & \text{if} x \in \Q \\
                    0 & \text{otherwise}
                \end{cases}
             \end{equation*}
            This is not Riemann integrable
        \item $\Q$ or even $\Q \cup [0, 1]$ is not a Jordan measurable subset of $\R$. In fact no dense countable subset of an interval in $\R$ is Jordan measurable.
        \item Another problem is with limits of functions: a pointwise limit of Riemann integrable functions is not always Riemann integrable.
            % Example: indicator(1/n! Z intersect [0, 1]) is Riemann integrable and for all x in R, f(X) defined as lim n->0 f_n (x) = 1_{Q cap [0, 1]} is not Riemann integrable
    \end{enumerate}
\end{eg}

The ideas of Lebesgue were to remove the containment $A \subset E$, and to allow a countable union of boxes instead of just a finite one.
\begin{defi}
    A set $E \subseteq A$ is called \textbf{Lebesgue measurable} if $\forall \epsilon > 0$ there exist a countable family of boxes $(B_i)_{i \geq 1}$ such that $E \subseteq \bigcup_{i \geq 1} B_i$ and $m^* (\bigcup B_i \setminus E) < \epsilon$
\end{defi}

Here, we use $m^*$ the \emph{Lebesgue outer measure}, defined as follows.
\begin{equation*}
    m^*(F) = \inf\Set{\sum_{n \geq 1} m(B_n) | F \subset \bigcup_{n \geq 1} B_n, \; B_n \textrm{are boxes}}
\end{equation*}
This is defined for all subsets of $\R^d$, but it is not additive on all subsets.
\begin{remark}
    \leavevmode
    \begin{enumerate}
        \item If you let $m^{*, J}(F)$ be defined similarly, but for finitely many boxes $B_n$ instead of countably many (called the Jordan outer measure), then $m^*(F) \leq m^{*, J}(F)$.
        \item But sometimes, the inequality is strict, for instance if $F = \Q \cap [0, 1]$ then we can check $m^*(F) = 0$ but $m^{*, J}(F) = 1$.
    \end{enumerate}
    The outer measure satisfies
    \begin{enumerate}
        \item $m^*(\emptyset) = 0$
        \item $m^*(E) \leq m^*(F)$ if $E \leq F$ (monotone)
        \item $m^*(\bigcup_{i \geq 1}) \leq \sum_{i \geq 1} m^* (E_i)$ (countable subadditivity)
    \end{enumerate}
\end{remark}

\begin{eg}[Vitali's example]
    Let $E$ be a set of representations of the cosets of the subgroup $(\Q, +) \subset (\R, +)$. We can choose $E \subset [0, 1]$, such that
    \begin{equation}
        \forall x \in \R \; \exists! e \in E \; \text{such that} \; x - e \in \Q
    \end{equation}
    So the family $\{E + r\}_r \in \Q$ is a disjoint family of subsets of $\R$, a partition.
    By translational invariance, $m^*(E + r) = m^*(E) \,\forall r \in \Q$
    For any distinct $r_1, \dotsc, r_n \in \Q \cap [0, 1]$, if $m^*$ were additive, $m^*(\bigcup_{i=1}^N r_i + E) = N m^*(E)$ but $\bigcup_{1}^N r_i + E \subseteq [0, 2]$ so $m^*(\bigcup r_i + E) \leq m^*([0, 2]) \leq 2$
    So, $\forall N \in \N \quad N m^*(E) \leq 2$, hence $m^*(E) = 0$.
    But $[0, 1] \subseteq \bigcup_{r \in \Q} E + r$, so by countable subadditivity $m^*([0, 1]) \subseteq \sum_{r \in \Q} m^*(E + r) = 0$ but $m^*([0, 1]) = 1$, so we have a contradiction.
    This shows that $m^*$ is not additive.
\end{eg}

\begin{remark} \leavevmode
    \begin{itemize}
        \item This contruction uses the axiom of choice to define $E$.
        \item Next time we will define the Lebesgue measure of a Lebesgue measurable set as the outer measure of that set, and this will be additive on Lebesgue measurable sets.  This means Vitali's set $E$ was \emph{not} Lebesgue measurable.
    \end{itemize}
\end{remark}

\begin{eg} [Middle-thirds Cantor set]
    It is a compact subset $C$ of $[0, 1]$.  Start with the interval $I_0 = [0, 1]$ and remove the middle third $(\frac13, \frac23)$, leaving $I_1 = [0, \frac13] \cup [\frac23, 1]$.  Then remove the middle third of each interval here, giving $I_2 = [0, \frac19] \cup [\frac29, \frac13] \cup [\frac23, \frac79] \cup [\frac89, 1]$.  Repeat, then define $C = \bigcap_{n \geq 0} I_n$.  Alternatively, take a ternary expansion of $x \in [0, 1]$, and define $C$ as the set of $x$ which has \emph{none} of its digits equal to $2$.
\end{eg}

\begin{remark}
    $I_n$ is a finite union of intervals, so it is an elementary set (link). In particular, $m(I_n) = 2^n / 3^n \to 0$, as $n \to \infty$ so $C$ is Jordan measurable with measure $0$.
    Every Jordan measurable set is Lebesgue measurable (clear from the definition).
\end{remark}
We can define a 'fat' Cantor set which is Jordan measurable but not Lebesgue measurable.
\end{document}
